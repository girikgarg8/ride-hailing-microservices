# =============================================================================
# UBER SERVICE DISCOVERY (EUREKA) - PRODUCTION CONFIGURATION
# =============================================================================
# This file contains AWS production-specific configurations that override
# the default application.properties when running with --spring.profiles.active=prod

# =============================================================================
# EUREKA SERVER CONFIGURATION
# =============================================================================
# AWS-specific Eureka server settings for production
# Why needed: In AWS, Eureka needs to use private IP for inter-service communication
eureka.instance.hostname=${EC2_PRIVATE_IP}
eureka.instance.prefer-ip-address=true
# Instance ID includes private IP for uniqueness in AWS environment
eureka.instance.instance-id=${spring.application.name}:${EC2_PRIVATE_IP}:${server.port}

# Production Eureka server optimizations
# Why needed: AWS environment has different network characteristics than localhost
eureka.server.enable-self-preservation=false
eureka.server.eviction-interval-timer-in-ms=15000
eureka.server.renewal-percent-threshold=0.49

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
# CloudWatch-compatible logging with file output
# Why needed: AWS CloudWatch agent reads from these log files
logging.file.name=/var/log/uber-services/eureka.log
logging.level.com.netflix.eureka=INFO
logging.level.com.netflix.discovery=INFO

# =============================================================================
# ACTUATOR CONFIGURATION
# =============================================================================
# Health checks for monitoring
# Why needed: Monitoring systems use /actuator/health
management.endpoints.web.exposure.include=health,info,metrics,env
management.endpoint.health.show-details=always